"use strict";document.addEventListener("DOMContentLoaded",(()=>{}));const documentElementFinder=function(e,t=0){let n;return n=1===t?document.querySelectorAll(e):document.querySelector(e),n},gameEls={player1:documentElementFinder(".player-1"),player2:documentElementFinder(".player-2"),activePlayer:documentElementFinder("._active-player"),player1Score:documentElementFinder(".player-1__score"),player2Score:documentElementFinder(".player-2__score"),player1CurrentScore:documentElementFinder(".player-1 .score-block__score"),player2CurrentScore:documentElementFinder(".player-2 .score-block__score"),btnNewGame:documentElementFinder(".btn-new-game"),btnRollDice:documentElementFinder(".btn-roll-dice"),btnHoldDice:documentElementFinder(".btn-hold-dice"),dice:documentElementFinder(".dice"),playerWonModal:documentElementFinder(".player-won-modal"),playerWonModalCloseBtn:documentElementFinder(".player-won-modal .modal-close")};let gameInfo={playersScore:[0,0],currentPlayerScore:0,activePlayer:0,finalScore:5,winner:!1};const gameFunctionality={initialProperties:function(){gameEls.player1Score.textContent=0,gameEls.player2Score.textContent=0,gameEls.player1CurrentScore.textContent=0,gameEls.player2CurrentScore.textContent=0,gameInfo.currentPlayerScore=0,gameInfo.playersScore=[0,0],gameInfo.winner=!1,gameEls.dice.classList.add("_hidden"),gameEls.player1.classList.remove("_winner"),gameEls.player2.classList.remove("_winner"),gameEls.btnRollDice.removeAttribute("disabled"),gameEls.btnHoldDice.removeAttribute("disabled"),1===gameInfo.activePlayer&&this.switchPlayer()},randomNumOfDice:function(){return Math.trunc(6*Math.random())+1},switchPlayer:function(){gameInfo.activePlayer=0===gameInfo.activePlayer?1:0,gameEls.player1.classList.toggle("_active-player"),gameEls.player2.classList.toggle("_active-player")},updateCurrentScore:function(e){gameInfo.currentPlayerScore+=e,0===gameInfo.activePlayer?gameEls.player1CurrentScore.textContent=gameInfo.currentPlayerScore:gameEls.player2CurrentScore.textContent=gameInfo.currentPlayerScore},createDice:function(e){e.classList.remove("_hidden");const t=this.randomNumOfDice(),n=document.createElement("div");n.classList.add(`dice-num-${t}`,"dice-circles-wrap"),e.appendChild(n),gameEls.btnRollDice.addEventListener("click",(function(){n.remove()}));for(let e=0;e<t;e++){const t=e+1,r=document.createElement("div");r.classList.add(`dice-circle-${t}`,"dice-circle"),n.appendChild(r)}let r;1===t?(gameInfo.currentPlayerScore=0,0===gameInfo.activePlayer?gameEls.player1CurrentScore.textContent=gameInfo.currentPlayerScore:gameEls.player2CurrentScore.textContent=gameInfo.currentPlayerScore,this.switchPlayer()):this.updateCurrentScore(t),r=0===gameInfo.activePlayer?gameInfo.playersScore[0]+gameInfo.currentPlayerScore:gameInfo.playersScore[1]+gameInfo.currentPlayerScore,r>=gameInfo.finalScore&&(0===gameInfo.activePlayer&&(gameEls.player1Score.textContent=r,gameEls.player1.classList.add("_winner"),gameInfo.winner=0,this.playerWonModalOpen()),1===gameInfo.activePlayer&&(gameEls.player2Score.textContent=r,gameEls.player2.classList.add("_winner"),gameInfo.winner=1,this.playerWonModalOpen()),gameEls.btnRollDice.setAttribute("disabled","disabled"),gameEls.btnHoldDice.setAttribute("disabled","disabled"))},holdDice:function(){0===gameInfo.activePlayer?(gameInfo.playersScore[0]+=gameInfo.currentPlayerScore,gameEls.player1Score.textContent=gameInfo.playersScore[0],gameEls.player1CurrentScore.textContent=0):(gameInfo.playersScore[1]+=gameInfo.currentPlayerScore,gameEls.player2Score.textContent=gameInfo.playersScore[1],gameEls.player2CurrentScore.textContent=0),gameInfo.currentPlayerScore=0,gameEls.dice.classList.add("_hidden"),this.switchPlayer()},rollTheDiceOnClick:function(e){e.addEventListener("click",(()=>this.createDice(gameEls.dice)))},holdTheDiceOnClick:function(e){e.addEventListener("click",(()=>this.holdDice()))},restartGameOnClick:function(e){e.addEventListener("click",(()=>this.initialProperties()))},playerWonModalOpen:function(){const e=gameEls.playerWonModal,t=gameEls.playerWonModalCloseBtn;documentElementFinder(".player-won-modal .modal__winner-text").textContent=0===gameInfo.winner?"Player 1 won!":"Player 2 won!",e.classList.add("_active"),t.addEventListener("click",(function(){e.classList.remove("_active")}));setTimeout((()=>{window.addEventListener("click",(t=>{t.target===e&&e.classList.remove("_active")}))}),1300)}};gameFunctionality.restartGameOnClick(gameEls.btnNewGame),gameFunctionality.rollTheDiceOnClick(gameEls.btnRollDice),gameFunctionality.holdTheDiceOnClick(gameEls.btnHoldDice);
//# sourceMappingURL=app.js.map